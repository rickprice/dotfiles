#!/usr/bin/env bash

CLASS="firefox"
LOGFILE=~/BadVideoLog.txt

# Declare a string array with type
declare -a StringArray=(
	"absolution"
	"adult"
	"all bosses"
	"annihilation"
	"anthology"
	"aphmau"
	"araha"
	"assasin"
	"assassin"
	"attack"
	"autopsy"
	"baby"
	"badguy"
	"baldur"
	"bart"
	"bee movie"
	"beneath the deep"
	"beneath"
	"bill and mandy"
	"blade"
	"blair witch"
	"blood field"
	"blood"
	"bloodlines"
	"bloody"
	"blue fire"
	"body swap"
	"brothers in arms"
	"bully"
	"calithem"
	"call of duty"
	"carrion"
	"castlevania"
	"clock tower"
	"cod"
	"cold house"
	"conarium"
	"containment breach"
	"contra bosses"
	"covenant"
	"creepiest"
	"crimson"
	"crystal"
	"curse"
	"cursed"
	"cutscenes"
	"danger"
	"dangerous"
	"dark angel"
	"dark"
	"darkest"
	"darksider"
	"darq"
	"daymare"
	"dead island"
	"dead"
	"deadly"
	"deadpool"
	"death"
	"deluded mind"
	"demon"
	"doomguy"
	"dragon"
	"dreams"
	"duke nukem"
	"dying"
	"enlisted gameplay"
	"everspace"
	"evil"
	"fear"
	"feeding frenzy"
	"final fantasy"
	"firefight"
	"fnaf"
	"forgive me"
	"fortnight"
	"freddy"
	"fugget"
	"g-force"
	"gashnor"
	"genshin"
	"get even"
	"ghost"
	"girlfriend"
	"glamrock"
	"god of war"
	"goddess"
	"golem"
	"gore"
	"gray dawn"
	"gta"
	"gun"
	"gylt"
	"halloween"
	"hardcore"
	"haunted"
	"haunting"
	"heartless"
	"hell"
	"hellblade"
	"hello puppets"
	"henry stickman"
	"herobrine"
	"hi-fi"
	"hitler"
	"hitman"
	"homer"
	"homesick"
	"honor"
	"horror"
	"hospital"
	"i love being needed"
	"illusion"
	"infamous"
	"inquisition"
	"insomnis"
	"invasion"
	"it happened here"
	"it takes two"
	"jak and daxter"
	"johnny test"
	"joker"
	"kameo"
	"kem"
	"killer"
	"killing"
	"kills"
	"killzone"
	"kinigra deon"
	"lost"
	"love, sam"
	"machinarium"
	"madness"
	"mansion"
	"maquette"
	"marines"
	"marvel"
	"mature"
	"mavro"
	"medal of honour"
	"mental"
	"mermaid"
	"metal gear"
	"metania"
	"modern warfare"
	"monster"
	"mortal kombat"
	"murder"
	"murdered"
	"my friendly neighbourhood"
	"mystic"
	"mythic"
	"navy seals"
	"never again"
	"never back down"
	"nightmare"
	"observation duty"
	"oggy"
	"one who knocks"
	"only 24 hours"
	"orph"
	"ouija"
	"partum artifex"
	"pihrana"
	"pikmin"
	"plauge"
	"playdead"
	"poses"
	"possessed"
	"predator"
	"presidents"
	"prison"
	"problems at the port"
	"prognathadon"
	"prototype"
	"psychonauts"
	"punisher"
	"puppet"
	"radio station"
	"rage"
	"rainbow friends"
	"rainbow"
	"raw"
	"ready or not"
	"realistic body"
	"red alert"
	"red dead"
	"reloaded"
	"remnant"
	"resident evil"
	"resident"
	"resistance"
	"roblox"
	"s*xiest"
	"sabrina"
	"sackboy"
	"saturday morning cartoons"
	"say no to choking"
	"scarier"
	"scary"
	"secret lab"
	"seed of evil"
	"serious sam"
	"sf2"
	"sf6"
	"shadow"
	"shantae"
	"shapeshift"
	"silent hill"
	"simpsons"
	"skibidi"
	"skywalker"
	"slashers"
	"slime girl"
	"sniper"
	"splatterhouse"
	"spongebob"
	"spyhunter"
	"stranger within"
	"stray"
	"subnautica"
	"suicide"
	"summoner"
	"survival"
	"tears"
	"terminator"
	"terrify"
	"the crow"
	"the evil within"
	"the park"
	"the park"
	"the reed field"
	"timeshift"
	"toilet"
	"tomb"
	"trick or treat"
	"true crime"
	"tunic"
	"turok"
	"uncharted"
	"unholy"
	"valiant hearts"
	"vengeful"
	"voodoo"
	"warfare"
	"warfighter"
	"werewolf"
	"werewolve"
	"what kids see"
	"winter ultima"
	"witch"
	"wolf"
	"wolfenstein"
	"xbox"
	"yieun"
	"zeta"
	"zombie"
	# "ninja" \ Power Rangers has Ninja stuff, maybe not block power rangers explicitly?
)

while true; do
	echo "Waiting to check for bad videos"
	sleep 60
	echo "Checking for bad videos"

	# Read the array values with space
	for val in "${StringArray[@]}"; do
		echo Checking $val
		xdotool search --class "$CLASS" search --name "$val" windowkill
		if [ $? -eq 0 ]; then
			echo $(date) "|Closing bad window|" $val >>"$LOGFILE"
		fi
	done

	echo "Checked for bad videos"
done
